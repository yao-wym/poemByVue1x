webpackJsonp([29],{69:function(t,e,s){"use strict";t.exports={replace:!0,components:{"store-list-item":function(t){s.e(49,function(e){var s=[e(349)];t.apply(null,s)}.bind(this))},"goods-list-item":function(t){s.e(47,function(e){var s=[e(35)];t.apply(null,s)}.bind(this))},"list-view":function(t){s.e(2,function(e){var s=[e(25)];t.apply(null,s)}.bind(this))},"flex-scroll-view":function(t){!function(){var e=[s(3)];t.apply(null,e)}.call(this)},"return-top":function(t){s.e(0,function(e){var s=[e(8)];t.apply(null,s)}.bind(this))},"app-header":function(t){!function(){var e=[s(4)];t.apply(null,e)}.call(this)}},route:{data:function(t){t.next({curpage:1,searchList:[]}),this.$route.params.keyword==this.keyword&&this.searchType==this.$route.params.searchType||(this.searchType=this.$route.params.searchType,this.keyword=this.$route.params.keyword,this.getSearchList()),this.$broadcast("reSearch")}},data:function(){return{curpage:1,searchList:[],keyword:"",storeHash:{store:["11"],hotel:["2","12"],scenic:["3"]}}},methods:{getSearchList:function(){var t="goods"==this.searchType?GOODS_SEARCH_API:STORE_SEARCH_API;$.getJSON(t,{keyword:this.keyword,page:20,curpage:this.curpage}).done(this.getSearchListDone)},getSearchListDone:function(t){isEmpty(t.datas.goods_list)&&isEmpty(t.datas.store_list)||("goods"==this.searchType?this.searchList=this.searchList.concat(t.datas.goods_list):this.searchList=this.searchList.concat(t.datas.store_list),this.curpage++,this.$nextTick(function(){this.$broadcast("refresh")})),0==t.hasmore&&this.$off("scrollEnd")}},created:function(){},ready:function(){},attached:function(){},compiled:function(){},events:{scrollEnd:function(t){this.getSearchList()},search:function(t){this.searchType=t.searchType,this.keyword=t.keyword,this.searchList=[],this.curpage=1,this.getSearchList()}}}},134:function(t,e,s){e=t.exports=s(1)(),e.push([t.id,"",""])},240:function(t,e){t.exports=' <div class=flex-view v-transition> <app-header search=找美食.找酒店 right-label=搜索 right-link=search></app-header> <flex-scroll-view> <ul id=search-list-view style="font-size: 0.3rem"> <store-list-item v-if="searchType!=\'goods\'&&storeHash[searchType].indexOf(store[\'sc_id\'])!=-1" v-for="store in searchList" :store=store :index=$index> </store-list-item> <goods-list-item v-if="searchType==\'goods\'" v-for="item in searchList" :item=item :index=$index> </goods-list-item> </ul> </flex-scroll-view> </div> '},325:function(t,e,s){var i,o;s(365),i=s(69),o=s(240),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},365:function(t,e,s){var i=s(134);"string"==typeof i&&(i=[[t.id,i,""]]);s(2)(i,{});i.locals&&(t.exports=i.locals)}});