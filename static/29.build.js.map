{"version":3,"sources":["webpack:///29.build.js","webpack:///MapView.vue","webpack:///./src/Views/MapView.vue?f3bc","webpack:///./src/Views/MapView.vue?c4f0","webpack:///./src/Views/MapView.vue","webpack:///./src/Views/MapView.vue?ecc4"],"names":["webpackJsonp",73,"module","exports","__webpack_require__","replace","data","hotelName","this","$route","query","title","map","userLng","userLat","posLng","posLat","components","app-header","resolve","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","call","ready","pos","$","isEmpty","getPosition","poem","getPos","lng","lat","methods","window","navigator","geolocation","options","enableHighAccuracy","getCurrentPosition","handleSuccess","handleError","poemUI","toast","position","coords","longitude","latitude","initMap","addCloudLayer","plugin","layerOptions","clickable","cloudDataLayer","AMap","CloudDataLayer","setMap","event","addListener","result","clouddata","photo","_image","_preurl","infoWindow","InfoWindow","content","_name","join","_address","_createtime","_updatetime","size","Size","autoMove","offset","Pixel","open","_location","Map","setCenter","setZoom","Marker","route","transition","next","canReuse",183,"push","id",261,333,"__vue_script__","__vue_template__","__esModule","template",397,"locals"],"mappings":"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","file":"29.build.js","sourcesContent":["webpackJsonp([29],{\n\n/***/ 73:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t// <template>\n\t//   <app-header :title=\"title\"></app-header>\n\t//   <div id=\"container\"></div>\n\t// </template>\n\t// <style type=\"text/css\">\n\t//   html{height:100%} \n\t//   body{height:100%;margin:0px;padding:0px} \n\t//   #container{height:100%}\n\t// </style>\n\t// <script type=\"text/javascript\">\n\tmodule.exports = {\n\t  replace: true,\n\t  data: function data() {\n\t    return {\n\t      hotelName: this.$route.query.hotelName,\n\t      title: this.$route.query.title,\n\t      map: \"\",\n\t      userLng: \"\",\n\t      userLat: \"\",\n\t      posLng: \"\",\n\t      posLat: \"\"\n\t    };\n\t  },\n\t  components: {\n\t    'app-header': function appHeader(resolve) {\n\t      !/* require */(/* empty */function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(4)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.call(this));\n\t    }\n\t  },\n\t  ready: function ready() {\n\t    // location.href=\"http://m.amap.com/?q=31.234527,121.287689\"\n\t\n\t    this.hotelName = this.$route.query.hotelName, this.title = this.$route.query.title;\n\t    var pos = this.$route.query.pos;\n\t\n\t    if (!$.isEmpty(pos)) {\n\t      this.posLng = poem.getPos(pos).lng;\n\t      this.posLat = poem.getPos(pos).lat;\n\t      this.getPosition();\n\t      // this.initMap(lng,lat);\n\t      // if(!$.isEmpty(this.$route.query)){\n\t      //   var infoWindow = new BMap.InfoWindow(this.$route.query.markName, opts);  // 创建信息窗口对象   \n\t      //   map.openInfoWindow(infoWindow, map.getCenter());      // 打开信息窗口\n\t      // }\n\t    } else {\n\t        this.getPosition();\n\t      }\n\t  },\n\t  methods: {\n\t    getPosition: function getPosition() {\n\t      if (window.navigator.geolocation) {\n\t        var options = {\n\t          enableHighAccuracy: true\n\t        };\n\t        window.navigator.geolocation.getCurrentPosition(this.handleSuccess, this.handleError, options);\n\t      } else {\n\t        poemUI.toast(\"浏览器不支持html5来获取地理位置信息\");\n\t      }\n\t    },\n\t    handleSuccess: function handleSuccess(position) {\n\t      this.userLng = position.coords.longitude;\n\t      this.userLat = position.coords.latitude;\n\t      this.initMap();\n\t    },\n\t    handleError: function handleError() {},\n\t    addCloudLayer: function addCloudLayer() {\n\t      //加载云图层插件\n\t      this.map.plugin('AMap.CloudDataLayer', function () {\n\t        var layerOptions = {\n\t          clickable: true\n\t        };\n\t        var cloudDataLayer = new AMap.CloudDataLayer('56a1d385305a2a32882907d0', layerOptions); //实例化云图层类\n\t        cloudDataLayer.setMap(this.map); //叠加云图层到地图\n\t\n\t        AMap.event.addListener(cloudDataLayer, 'click', function (result) {\n\t          var clouddata = result.data;\n\t          var photo = [];\n\t          if (clouddata._image[0]) {\n\t            //如果有上传的图片\n\t            photo = ['<img width=240 height=100 src=\"' + clouddata._image[0]._preurl + '\"><br>'];\n\t          }\n\t          var infoWindow = new AMap.InfoWindow({\n\t            content: \"<font class='title'>\" + clouddata._name + \"</font><hr/>\" + photo.join(\"\") + \"地址：\" + clouddata._address + \"<br />\" + \"创建时间：\" + clouddata._createtime + \"<br />\" + \"更新时间：\" + clouddata._updatetime,\n\t            size: new AMap.Size(0, 0),\n\t            autoMove: true,\n\t            offset: new AMap.Pixel(0, -25)\n\t          });\n\t\n\t          infoWindow.open(this.map, clouddata._location);\n\t        });\n\t      });\n\t    },\n\t    initMap: function initMap() {\n\t\n\t      this.map = new AMap.Map('container');\n\t      this.map.setCenter([this.userLng, this.userLat]);\n\t      this.map.setZoom(12);\n\t      var marker = new AMap.Marker({\n\t        position: [this.userLng, this.userLat],\n\t        map: this.map\n\t      });\n\t      this.addCloudLayer();\n\t    }\n\t  },\n\t  route: {\n\t    data: function data(transition) {\n\t      transition.next({\n\t        hotelName: this.$route.query.hotelName,\n\t        title: this.$route.query.title\n\t      });\n\t    },\n\t    canReuse: function canReuse(transition) {\n\t      return false;\n\t      //判断是否可以重用，可以则为返回true，不能重用则返回false，会实例化一个新的vue对象\n\t    }\n\t  }\n\t};\n\t// </script>\n\t/* generated by vue-loader */\n\n/***/ },\n\n/***/ 183:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"body,html{height:100%}body{margin:0;padding:0}#container{height:100%}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 261:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<app-header :title=title></app-header> <div id=container></div>\";\n\n/***/ },\n\n/***/ 333:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(397)\n\t__vue_script__ = __webpack_require__(73)\n\t__vue_template__ = __webpack_require__(261)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 397:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(183);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./MapView.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./MapView.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 29.build.js\n **/","<template>\r\n  <app-header :title=\"title\"></app-header>\r\n  <div id=\"container\"></div> \r\n</template>\r\n<style type=\"text/css\">\r\n  html{height:100%}  \r\n  body{height:100%;margin:0px;padding:0px}  \r\n  #container{height:100%} \r\n</style>\r\n<script type=\"text/javascript\">\r\nmodule.exports = {\r\n  replace: true,\r\n  data:function(){\r\n    return {\r\n      hotelName:this.$route.query.hotelName,\r\n      title:this.$route.query.title,\r\n      map:\"\",\r\n      userLng:\"\",\r\n      userLat:\"\",\r\n      posLng:\"\",\r\n      posLat:\"\",\r\n    }\r\n  },\r\n  components: {\r\n    'app-header': function(resolve) {\r\n      require(['../components/CommonHeader.vue'], resolve);\r\n    },\r\n  },\r\n  ready:function(){\r\n      // location.href=\"http://m.amap.com/?q=31.234527,121.287689\"\r\n\r\n      this.hotelName=this.$route.query.hotelName,\r\n      this.title=this.$route.query.title\r\n      var pos = this.$route.query.pos;\r\n\r\n      if(!$.isEmpty(pos)){\r\n        this.posLng = poem.getPos(pos).lng;\r\n        this.posLat = poem.getPos(pos).lat;\r\n        this.getPosition();\r\n        // this.initMap(lng,lat);\r\n        // if(!$.isEmpty(this.$route.query)){\r\n        //   var infoWindow = new BMap.InfoWindow(this.$route.query.markName, opts);  // 创建信息窗口对象    \r\n        //   map.openInfoWindow(infoWindow, map.getCenter());      // 打开信息窗口\r\n        // }\r\n      }else{\r\n        this.getPosition();\r\n      }\r\n  },\r\n  methods:{\r\n    getPosition:function(){\r\n      if (window.navigator.geolocation) { \r\n        var options = { \r\n          enableHighAccuracy: true, \r\n          }; \r\n        window.navigator.geolocation.getCurrentPosition(this.handleSuccess, this.handleError, options); \r\n      }else{ \r\n        poemUI.toast(\"浏览器不支持html5来获取地理位置信息\"); \r\n      } \r\n    },\r\n    handleSuccess:function(position){\r\n      this.userLng = position.coords.longitude; \r\n      this.userLat = position.coords.latitude; \r\n        this.initMap();\r\n    },\r\n    handleError:function(){\r\n    },\r\n    addCloudLayer:function() {\r\n        //加载云图层插件\r\n        this.map.plugin('AMap.CloudDataLayer', function() {\r\n            var layerOptions = {\r\n                clickable: true\r\n            };\r\n            var cloudDataLayer = new AMap.CloudDataLayer('56a1d385305a2a32882907d0', layerOptions); //实例化云图层类\r\n            cloudDataLayer.setMap(this.map); //叠加云图层到地图\r\n\r\n            AMap.event.addListener(cloudDataLayer, 'click', function(result) {\r\n                var clouddata = result.data;\r\n                var photo=[];\r\n                if(clouddata._image[0]){//如果有上传的图片\r\n                    photo=['<img width=240 height=100 src=\"'+clouddata._image[0]._preurl+'\"><br>'];\r\n                }\r\n                var infoWindow = new AMap.InfoWindow({\r\n                    content: \"<font class='title'>\" + clouddata._name + \"</font><hr/>\"+photo.join(\"\")+\"地址：\" + clouddata._address + \"<br />\" + \"创建时间：\" + clouddata._createtime + \"<br />\" + \"更新时间：\" + clouddata._updatetime,\r\n                    size: new AMap.Size(0, 0),\r\n                    autoMove: true,\r\n                    offset: new AMap.Pixel(0, -25)\r\n                });\r\n\r\n                infoWindow.open(this.map, clouddata._location);\r\n            });\r\n        });\r\n    },\r\n    initMap:function(){\r\n      \r\n      this.map = new AMap.Map('container'); \r\n      this.map.setCenter([this.userLng, this.userLat]);\r\n      this.map.setZoom(12);\r\n      var marker = new AMap.Marker({\r\n        position: [this.userLng, this.userLat],\r\n        map:this.map\r\n      });\r\n      this.addCloudLayer();\r\n    }\r\n  },\r\n  route: {\r\n    data: function (transition) {\r\n        transition.next({\r\n          hotelName:this.$route.query.hotelName,\r\n          title:this.$route.query.title\r\n        })\r\n    },\r\n    canReuse:function(transition){\r\n        return false;\r\n        //判断是否可以重用，可以则为返回true，不能重用则返回false，会实例化一个新的vue对象\r\n    }\r\n  },\r\n  }\r\n</script>\n\n\n/** WEBPACK FOOTER **\n ** MapView.vue?10dd908f\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body,html{height:100%}body{margin:0;padding:0}#container{height:100%}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/Views/MapView.vue\n ** module id = 183\n ** module chunks = 29\n **/","module.exports = \"<app-header :title=title></app-header> <div id=container></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/Views/MapView.vue\n ** module id = 261\n ** module chunks = 29\n **/","var __vue_script__, __vue_template__\nrequire(\"!!vue-style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./MapView.vue\")\n__vue_script__ = require(\"!!babel-loader!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./MapView.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./MapView.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/Views/MapView.vue\n ** module id = 333\n ** module chunks = 29\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./MapView.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./MapView.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./MapView.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/Views/MapView.vue\n ** module id = 397\n ** module chunks = 29\n **/"],"sourceRoot":""}